@page
@model MYChamp.Pages.Consultee_Pages.Consultee_RegisterModel
@{
    ViewData["Title"] = "Register";
}
<br />
<br />
@if (TempData["success"]?.ToString() == "yes")
{
    <div class="alert alert-success text-center" role="alert">
        Consultee registered successfully
    </div>
    <script>
        setTimeout(function () {
            window.location.href = "/";
        }, 1000); 
    </script>
}

<div class="container mt-5 bordered">
    <div class="row justify-content-center align-items-center">
        <div class="col-md-9">
            <form method="post" class="border p-4 border-gray border-2 rounded-1">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3 form-floating">
                            <input type="text" asp-for="_register.consulteeName" class="form-control @(ViewData.ModelState["_register.consulteeName"]?.Errors.Count > 0 ? "is-invalid" : "")" placeholder="Consultee Name" />
                            <label asp-for="_register.consulteeName" class="form-label"><h6>Consultee Name</h6></label>
                            <div class="invalid-feedback">
                                @Html.ValidationMessageFor(model => model._register.consulteeName)
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3 form-floating">
                            <input type="text" asp-for="_register.consulteeEmail" class="form-control @(ViewData.ModelState["_register.consulteeEmail"]?.Errors.Count > 0 ? "is-invalid" : "")" placeholder="Consultee Email" />
                            <label asp-for="_register.consulteeEmail" class="form-label"><h6>Consultee Email</h6></label>
                            <div class="invalid-feedback">
                                <span asp-validation-for="_register.consulteeEmail" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-11">
                        <div class="container mt-5">
                            <label for="currency" class="form-label"><h6>Select Currency Unit:</h6></label>
                            <select id="currency" name="_register.UnitOfCurrency" class="form-select" asp-for="_register.UnitOfCurrency">
                                @if (Model.Currencies != null)
                                {
                                    @foreach (var currency in Model.Currencies)
                                    {
                                        <option value="@currency.id">@currency.currency_type</option>
                                    }
                                }
                            </select>
                            <span asp-validation-for="_register.UnitOfCurrency" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                <br />

                <div class="row">
                    <div class="col-6">
                        <div class="mb-3 form-floating">
                            <input type="text" asp-for="_register.costPerHour" class="form-control" placeholder="Cost Per Hour" />
                            <label asp-for="_register.costPerHour" class="form-label"><h6>Cost Per Hour</h6></label>
                            <div class="invalid-feedback">
                                <span asp-validation-for="_register.costPerHour" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-3 form-floating">
                            <input type="date" asp-for="_register.BillingDate" class="form-control @(ViewData.ModelState["_register.BillingDate"]?.Errors.Count > 0 ? "is-invalid" : "")" placeholder="Billing Date" />
                            <label asp-for="_register.BillingDate" class="form-label"><h6>Billing Date</h6></label>
                            <div class="invalid-feedback">
                                <span asp-validation-for="_register.BillingDate" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-3 py-4 d-grid">
                    <div class="col-11 text-center">
                        <button type="submit" class="btn btn-primary form-control">Register</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

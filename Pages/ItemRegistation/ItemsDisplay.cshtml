@page
@model MYChamp.Pages.ItemRegistation.ItemsDisplayModel
@{
    ViewData["Title"] = "Items Display";
}

<style>
    .container {
        max-width: 800px;
        margin-top: 80px;
    }

    .item-details {
        display: none;
        margin-top: 20px;
        border: 1px solid #ccc;
        padding: 15px;
        background-color: #f9f9f9;
    }
</style>

<div class="container">
    <h2 class="text-center">Items List</h2>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Item Name</th>
                <th>Item Description</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Items)
            {
                <tr data-id="@item.Id" class="item-row">
                    <td>@item.ItemName</td>
                    <td>@item.ItemDescription</td>
                    <td>@item.Price</td>
                </tr>
            }
        </tbody>
    </table>
    <div id="itemDetails" class="item-details">
        <h4>Item Details</h4>
        <p><strong>Name:</strong> <span id="ItemName"></span></p>
        <p><strong>Description:</strong> <span id="ItemDescription"></span></p>
        <p><strong>Price:</strong> <span id="ItemPrice"></span></p>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".item-row").click(function () {
                var itemId = $(this).data("id");
                $.ajax({
                    url: '@Url.Page("/ItemRegistation/ItemsDisplay", "ItemDetails", new { id = "__id__" })'.replace('__id__', itemId),
                    method: 'GET',
                    success: function (data) {
                        $("#ItemName").text(data.ItemName);
                        $("#ItemDescription").text(data.ItemDescription);
                        $("#ItemPrice").text(data.Price);
                        $("#ItemDetails").show();
                    }
                });
            });
        });
    </script>
}
}